(window.webpackJsonp=window.webpackJsonp||[]).push([[21,13],{611:function(t,e,r){"use strict";r.r(e);var n=r(603),l=r(610),o=r(581),c=r(98),d=r(593),f=r(618),h=(r(35),r(28),r(229),r(20),r(60),r(51),r(0)),v=r(6),m=r(5),x=r(16),y=r(17),_=r(9),k=r(1),C=(r(59),r(24),r(8),r(100),r(68));function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(_.a)(t);if(e){var l=Object(_.a)(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return Object(y.a)(this,r)}}var P=function(t,e,r,desc){var n,l=arguments.length,o=l<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(k.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(o=(l<3?n(o):l>3?n(e,r,o):n(e,r))||o);return l>3&&o&&Object.defineProperty(e,r,o),o},j=function(t){Object(x.a)(l,t);var e,r,n=w(l);function l(){var t;return Object(v.a)(this,l),(t=n.apply(this,arguments)).resultMenu=!1,t.searchResults=[],t.query="",t}return Object(m.a)(l,[{key:"search",value:(r=Object(h.a)(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.scanning){t.next=10;break}if(""==this.query){t.next=9;break}return e=this.query.trim(),t.next=5,this.$inventory.searchProducts(e);case 5:(r=t.sent).length>=1&&(this.searchResults=r,this.resultMenu=!0),t.next=10;break;case 9:this.searchResults=[];case 10:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"toCart",value:function(t){var e={id:t.id,sku:t.sku,brand:t.brand,variant:t.variant,description:t.description,price:t.price,quantity:1};this.$emit("addToCart",e)}},{key:"getProductByCode",value:(e=Object(h.a)(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==this.query){t.next=5;break}return t.next=3,this.$inventory.getProductByCode(this.query);case 3:(e=t.sent)?(r={id:e.id,sku:e.sku,brand:e.brand,variant:e.variant,description:e.description,price:e.price,quantity:1},this.$emit("addToCart",r),this.query=""):this.query="";case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"onBlur",value:function(){this.query="",this.$emit("scanDone")}},{key:"onProductScan",value:function(){var t=this.$refs.searchBox;this.scanning?t.focus():t.blur()}}]),l}(C.Vue);P([Object(C.Prop)()],j.prototype,"scanning",void 0),P([Object(C.Watch)("scanning")],j.prototype,"onProductScan",null);var O=j=P([Object(C.Component)({})],j),$=r(72),component=Object($.a)(O,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e(c.a,{attrs:{width:"100%",color:"transparent",rounded:"lg"}},[e(o.a,{attrs:{"offset-y":"","nudge-bottom":5,"close-on-content-click":"","close-delay":"2000"},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on,o=r.attrs;return[e(l.a,{on:{submit:function(e){return e.preventDefault(),t.getProductByCode.apply(null,arguments)}}},[e(f.a,t._g(t._b({ref:"searchBox",staticClass:"text-subtitle-2 font-weight-regular flex-grow-1",class:["inventory"==t.$route.name?"rounded-r-lg rounded-l-0":"rounded-lg"],attrs:{solo:"",placeholder:"Search for products","prepend-inner-icon":"mdi-magnify",color:"primary","hide-details":"",clearable:""},on:{keyup:t.search,blur:t.onBlur},model:{value:t.query,callback:function(e){t.query=e},expression:"query"}},"v-text-field",o,!1),n))],1)]}}]),model:{value:t.resultMenu,callback:function(e){t.resultMenu=e},expression:"resultMenu"}},[t._v(" "),e(c.a,{staticClass:"flex-grow-1 overflow-y-auto px-2 pt-2",attrs:{elevation:"2",rounded:"lg",width:"100%","max-width":"100%","max-height":"300"}},[0==t.searchResults.length?e(c.a,{staticClass:"mb-2 px-3 d-flex align-center justify-center text-sm-subtitle-2 text-caption font-weight-medium grey--text text--darken-2",attrs:{height:"36",elevation:"0",rounded:"lg"}},[t._v("Searching for "+t._s(t.query))]):t._l(t.searchResults,(function(r,l){return e(c.a,{key:l,staticClass:"mb-2 px-3 d-flex align-center text-sm-subtitle-2 text-caption font-weight-medium grey--text text--darken-2",attrs:{height:"56",elevation:"1",rounded:"lg"},on:{click:function(e){return t.toCart(r)}}},[e("div",{staticClass:"d-flex flex-column justify-center align-start"},[e("div",{staticClass:"d-flex align-center"},[e("span",{staticClass:"mr-1"},[t._v(t._s(r.brand))]),t._v(" "),e("span",[t._v("\n              "+t._s(r.description)+"\n            ")]),t._v(" "),e(c.a,{staticClass:"px-2 rounded-lg ml-2 text-caption font-weight-bold green--text text--darken-1 d-flex align-center",attrs:{height:"20",color:"green lighten-5"}},[t._v("\n              "+t._s(r.variant)+"\n            ")])],1),t._v(" "),e(c.a,{staticClass:"d-flex grey--text mt-n1",staticStyle:{"font-size":"x-small"},attrs:{width:"100%",color:"transparent"}},[e("span",[t._v(t._s(r.sku))])])],1),t._v(" "),e(d.a),t._v(" "),e(c.a,{staticClass:"d-flex align-center justify-center"},[e(n.a,{staticClass:"d-flex flex-column px-2 py-1 blue--text text--darken-1 rounded-lg mx-1",attrs:{color:"blue lighten-5",height:"auto",width:"80",flat:"",disabled:""}},[e("span",{staticStyle:{"font-size":"x-small","line-height":"1"}},[t._v("Wholesale")]),t._v(" "),e("span",{staticClass:"text-caption mt-1 font-weight-medium text-center",staticStyle:{"line-height":"1"}},[t._v(t._s(t.$format.currencyFormat(r.price.wholesale)))])]),t._v(" "),e(n.a,{staticClass:"d-flex flex-column px-2 py-1 red--text text--darken-1 rounded-lg mx-1",attrs:{color:"red lighten-5",height:"auto",width:"80",flat:"",disabled:""}},[e("span",{staticStyle:{"font-size":"x-small","line-height":"1"}},[t._v("Retail")]),t._v(" "),e("span",{staticClass:"text-caption mt-1 font-weight-medium text-center",staticStyle:{"line-height":"1"}},[t._v(t._s(t.$format.currencyFormat(r.price.retail)))])])],1)],1)}))],2)],1)],1)}),[],!1,null,null,null);e.default=component.exports},631:function(t,e,r){"use strict";r.r(e);var n=r(580),l=r(603),o=r(591),c=r(691),d=r(613),f=r(579),h=r(168),v=r(590),m=r(98),x=r(593),y=r(618),_=(r(20),r(60),r(51),r(0)),k=r(6),C=r(5),w=r(16),P=r(17),j=r(9),O=r(1),$=(r(59),r(24),r(8),r(58),r(35),r(68));function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(j.a)(t);if(e){var l=Object(j.a)(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return Object(P.a)(this,r)}}var D=function(t,e,r,desc){var n,l=arguments.length,o=l<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(O.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(o=(l<3?n(o):l>3?n(e,r,o):n(e,r))||o);return l>3&&o&&Object.defineProperty(e,r,o),o},M=function(t){Object(w.a)(l,t);var e,r,n=R(l);function l(){var t;return Object(k.a)(this,l),(t=n.apply(this,arguments)).productData={id:"",sku:"",description:"",brand:"",category:"",supplier:"",variant:"",stock:1,price:{retail:0,wholesale:0}},t.brands=[],t.categories=[],t.priceModes=[{text:"Retail",value:"retail"},{text:"Wholesale",value:"wholesale"}],t}return Object(C.a)(l,[{key:"saveProduct",value:(r=Object(_.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$inventory.createProduct(this.productData);case 2:t.sent&&this.$emit("refreshTable");case 4:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"updateProduct",value:(e=Object(_.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$inventory.updateProduct(this.productData);case 2:t.sent&&this.$emit("refreshTable");case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"cancel",value:function(){this.productData={id:"",sku:"",description:"",brand:"",category:"",supplier:"",variant:"",stock:1,price:{retail:0,wholesale:0}},this.$emit("closeModal")}},{key:"getBrands",value:function(){var t=this;this.$inventory.getAllBrands().then((function(data){t.brands=data.map((function(t){return t.name}))})).catch((function(t){return console.error(t)}))}},{key:"getCategories",value:function(){var t=this;this.$inventory.getAllCategories().then((function(data){t.categories=data.map((function(t){return t.name}))})).catch((function(t){return console.error(t)}))}},{key:"created",value:function(){if(this.getBrands(),this.getCategories(),"update"==this.method)this.productData=this.product;else if("clone"==this.method){var t=this.product,e=t.description,r=t.sku,n=t.brand,l=t.category,o=t.supplier;this.productData={id:"",sku:r,description:e,brand:n,category:l,supplier:o,variant:"",stock:1,price:{retail:0,wholesale:0}}}}}]),l}($.Vue);D([Object($.Prop)()],M.prototype,"productModal",void 0),D([Object($.Prop)()],M.prototype,"cardtitle",void 0),D([Object($.Prop)()],M.prototype,"method",void 0),D([Object($.Prop)()],M.prototype,"product",void 0);var S=M=D([Object($.Component)({})],M),B=r(72),component=Object(B.a)(S,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e(d.a,{attrs:{persistent:"","max-width":"700px"},model:{value:t.productModal,callback:function(e){t.productModal=e},expression:"productModal"}},[e(l.a,{attrs:{rounded:"lg"}},[e(m.a,{staticClass:"px-3 py-2",attrs:{dark:"",color:"primary"}},[e(v.a,{attrs:{"no-gutters":"",align:"center"}},[e("span",{staticClass:"text-subtitle-1 font-weight-medium"},[t._v(t._s(t.cardtitle))]),t._v(" "),e(x.a),t._v(" "),e(n.a,{attrs:{icon:""}},[e(h.a,[t._v("mdi-dots-vertical")])],1),t._v(" "),e(n.a,{staticClass:"mr-n1",attrs:{icon:""},on:{click:function(e){return t.$emit("closeModal")}}},[e(h.a,[t._v("mdi-close")])],1)],1)],1),t._v(" "),e(m.a,{staticClass:"px-2 pt-1",attrs:{width:"100%"}},[e(v.a,{attrs:{"no-gutters":""}},[e(o.a,{staticClass:"mb-3",attrs:{cols:"12"}},[e("div",{staticClass:"text-subtitle-1 font-weight-medium grey--text text--darken-2 my-1 pl-1"},[t._v("\n            General\n          ")]),t._v(" "),e(f.a)],1),t._v(" "),e(o.a,{staticClass:"d-flex px-1",attrs:{cols:"12"}},[e(y.a,{staticClass:"rounded-lg text-subtitle-2 font-weight-regular",attrs:{outlined:"",label:"SKU or barcode",autofocus:"",dense:"","hide-details":"","prepend-icon":"mdi-barcode"},model:{value:t.productData.sku,callback:function(e){t.$set(t.productData,"sku",e)},expression:"productData.sku"}}),t._v(" "),e(n.a,{staticClass:"rounded-lg text-capitalize ml-3 text-subtitle-2",attrs:{dark:"",color:"primary",height:"40",width:t.$vuetify.breakpoint.smAndUp?"":"40",fab:!t.$vuetify.breakpoint.smAndUp}},[e(h.a,[t._v("mdi-barcode-scan")]),t._v(" "),t.$vuetify.breakpoint.smAndUp?e("span",{staticClass:"ml-2"},[t._v("Scan")]):t._e()],1)],1),t._v(" "),e(o.a,{staticClass:"px-1 pt-3",attrs:{cols:"12",sm:"5"}},[e(c.a,{staticClass:"rounded-lg text-subtitle-2 font-weight-regular",attrs:{items:t.brands,outlined:"",label:"Brand",dense:"","hide-details":"","prepend-icon":"mdi-tag"},model:{value:t.productData.brand,callback:function(e){t.$set(t.productData,"brand",e)},expression:"productData.brand"}})],1),t._v(" "),e(o.a,{staticClass:"px-1 pt-3",attrs:{cols:"12",sm:"7"}},[e(y.a,{staticClass:"rounded-lg text-subtitle-2 font-weight-regular",attrs:{outlined:"",label:"Description",dense:"","hide-details":"","prepend-icon":"mdi-package-variant-closed"},model:{value:t.productData.description,callback:function(e){t.$set(t.productData,"description",e)},expression:"productData.description"}})],1),t._v(" "),e(o.a,{staticClass:"px-1 pt-3",attrs:{cols:"12",sm:"6"}},[e(c.a,{staticClass:"rounded-lg text-subtitle-2 font-weight-regular",attrs:{items:t.categories,outlined:"",label:"Category",dense:"","hide-details":"","prepend-icon":"mdi-shape"},model:{value:t.productData.category,callback:function(e){t.$set(t.productData,"category",e)},expression:"productData.category"}})],1),t._v(" "),e(o.a,{staticClass:"px-1 pt-3",attrs:{cols:"12",sm:"6"}},[e(c.a,{staticClass:"rounded-lg text-subtitle-2 font-weight-regular",attrs:{outlined:"",label:"Supplier",dense:"","hide-details":"","prepend-icon":"mdi-human-dolly"},model:{value:t.productData.supplier,callback:function(e){t.$set(t.productData,"supplier",e)},expression:"productData.supplier"}})],1),t._v(" "),e(o.a,{staticClass:"px-1 pt-3",attrs:{cols:"12",sm:"8"}},[e(y.a,{staticClass:"rounded-lg text-subtitle-2 font-weight-regular",attrs:{outlined:"",label:"Variant or Size",dense:"","hide-details":"","prepend-icon":"mdi-plus-box-multiple"},model:{value:t.productData.variant,callback:function(e){t.$set(t.productData,"variant",e)},expression:"productData.variant"}})],1),t._v(" "),e(o.a,{staticClass:"px-1 pt-3",attrs:{cols:"12",sm:"4"}},[e(y.a,{staticClass:"rounded-lg text-subtitle-2 font-weight-regular",attrs:{outlined:"",label:"Stock",dense:"","hide-details":"",type:"number","prepend-icon":"mdi-plus-minus-box"},model:{value:t.productData.stock,callback:function(e){t.$set(t.productData,"stock",e)},expression:"productData.stock"}})],1),t._v(" "),e(o.a,{attrs:{cols:"12"}},[e("div",{staticClass:"text-subtitle-1 font-weight-medium grey--text text--darken-2 my-1 pl-1"},[t._v("\n            Pricing\n          ")]),t._v(" "),e(f.a)],1),t._v(" "),e(o.a,{staticClass:"px-1",attrs:{cols:"12"}},[e(v.a,{staticClass:"pt-3",attrs:{"no-gutters":""}},[e(o.a,{class:[t.$vuetify.breakpoint.smAndUp?"pr-1":""],attrs:{cols:"12",sm:"6"}},[e(y.a,{staticClass:"rounded-lg text-subtitle-2 font-weight-regular mb-2",attrs:{outlined:"",label:"Retail",dense:"","hide-details":"",type:"number","prepend-icon":"mdi-currency-php"},model:{value:t.productData.price.retail,callback:function(e){t.$set(t.productData.price,"retail",e)},expression:"productData.price.retail"}})],1),t._v(" "),e(o.a,{class:[t.$vuetify.breakpoint.smAndUp?"pl-1":""],attrs:{cols:"12",sm:"6"}},[e(y.a,{staticClass:"rounded-lg text-subtitle-2 font-weight-regular",attrs:{outlined:"",label:"Wholesale",dense:"","hide-details":"",type:"number","prepend-icon":"mdi-currency-php"},model:{value:t.productData.price.wholesale,callback:function(e){t.$set(t.productData.price,"wholesale",e)},expression:"productData.price.wholesale"}})],1)],1)],1)],1)],1),t._v(" "),e(m.a,{staticClass:"pa-3",attrs:{width:"100%"}},[e(v.a,{attrs:{"no-gutters":"",justify:"end"}},["update"==t.method?e(n.a,{staticClass:"text-capitalize mr-2 rounded-lg",attrs:{color:"primary",width:"100"},on:{click:t.updateProduct}},[t._v("\n          Update\n        ")]):e(n.a,{staticClass:"text-capitalize mr-2 rounded-lg",attrs:{color:"primary",width:"100"},on:{click:t.saveProduct}},[t._v("\n          Save\n        ")]),t._v(" "),e(n.a,{staticClass:"text-capitalize rounded-lg",attrs:{depressed:"",width:"100"},on:{click:t.cancel}},[t._v("\n          Cancel\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},632:function(t,e,r){"use strict";r.r(e);var n=r(580),l=r(603),o=r(613),c=r(168),d=r(590),f=r(98),h=r(593),v=r(6),m=r(5),x=r(16),y=r(17),_=r(9),k=r(1),C=(r(24),r(8),r(51),r(68));function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(_.a)(t);if(e){var l=Object(_.a)(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return Object(y.a)(this,r)}}var P=function(t,e,r,desc){var n,l=arguments.length,o=l<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(k.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(o=(l<3?n(o):l>3?n(e,r,o):n(e,r))||o);return l>3&&o&&Object.defineProperty(e,r,o),o},j=function(t){Object(x.a)(r,t);var e=w(r);function r(){return Object(v.a)(this,r),e.apply(this,arguments)}return Object(m.a)(r,[{key:"deleteProducts",value:function(){var t=this;this.products.length>0&&this.$inventory.removeProducts(this.products).then((function(e){return t.$emit("confirmDelete")}))}}]),r}(C.Vue);P([Object(C.Prop)()],j.prototype,"deleteModal",void 0),P([Object(C.Prop)()],j.prototype,"products",void 0);var O=j=P([Object(C.Component)({})],j),$=r(72),component=Object($.a)(O,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e(o.a,{attrs:{persistent:"","max-width":"400px"},model:{value:t.deleteModal,callback:function(e){t.deleteModal=e},expression:"deleteModal"}},[e(l.a,{attrs:{rounded:"lg"}},[e(f.a,{staticClass:"px-1 pt-1"},[e(d.a,{attrs:{"no-gutters":"",align:"center"}},[e(h.a),t._v(" "),e(n.a,{attrs:{icon:""},on:{click:function(e){return t.$emit("closeModal")}}},[e(c.a,[t._v("mdi-close")])],1)],1)],1),t._v(" "),e(f.a,{staticClass:"px-3"},[e(d.a,{attrs:{"no-gutters":"",justify:"center",align:"center"}},[e(c.a,{attrs:{size:"72",color:"red lighten-1"}},[t._v("mdi-trash-can-outline")])],1)],1),t._v(" "),e(f.a,{staticClass:"d-flex justify-center flex-column align-center"},[e("span",{staticClass:"text-h6 grey--text text--darken-2 my-2"},[t._v("Are you sure?")]),t._v(" "),e("span",{staticClass:"text-subtitle-2 text-center grey--text mb-4"},[t._v("Do you really want to delete these records? This process cannot be\n        undone.")])]),t._v(" "),e(f.a,{staticClass:"pa-3 pb-6",attrs:{width:"100%"}},[e(d.a,{attrs:{"no-gutters":"",justify:"center"}},[e(n.a,{staticClass:"text-capitalize rounded-lg",attrs:{depressed:""},on:{click:function(e){return t.$emit("closeModal")}}},[t._v("\n          Cancel\n        ")]),t._v(" "),e(n.a,{staticClass:"text-capitalize ml-4 rounded-lg",attrs:{dark:"",color:"red lighten-1"},on:{click:t.deleteProducts}},[t._v("\n          Delete\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports},693:function(t,e,r){"use strict";r.r(e);var n=r(595),l=r(580),o=r(603),c=r(699),d=r(591),f=r(691),h=r(597),v=r(579),m=r(168),x=r(581),y=r(687),_=r(590),k=r(98),C=r(686),w=(r(21),r(8),r(20),r(60),r(51),r(0)),P=r(6),j=r(5),O=r(16),$=r(17),R=r(9),D=r(1),M=(r(59),r(24),r(81),r(58),r(35),r(68)),S=r(631),B=r(632),A=r(611);function U(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(R.a)(t);if(e){var l=Object(R.a)(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return Object($.a)(this,r)}}var z=function(t,e,r,desc){var n,l=arguments.length,o=l<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(D.a)(Reflect))&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(o=(l<3?n(o):l>3?n(e,r,o):n(e,r))||o);return l>3&&o&&Object.defineProperty(e,r,o),o},T=function(t){Object(O.a)(n,t);var e,r=U(n);function n(){var t;return Object(P.a)(this,n),(t=r.apply(this,arguments)).searchBG="accent",t.btnGroup=void 0,t.selectedProducts=[],t.page=1,t.numOfItems=10,t.numOfPages=10,t.productModal={modal:!1,title:"",product:null,method:""},t.productDeleteModal=!1,t.optionBtn=!1,t.filter={show:!1,brand:"",category:"",supplier:""},t.brands=[],t.categories=[],t.supplier=[],t.products=[],t}return Object(j.a)(n,[{key:"selectProduct",value:function(t){this.selectedProducts.find((function(e){return e==t}))?this.selectedProducts=this.selectedProducts.filter((function(e){return e!=t})):this.selectedProducts.push(t)}},{key:"emptySelected",value:function(){this.selectedProducts=[]}},{key:"checkSelected",value:function(t){return!!this.selectedProducts.find((function(e){return e==t}))}},{key:"changeBG",value:function(t){this.searchBG=t}},{key:"showProductModal",value:function(t){this.productModal={modal:!0,title:t}}},{key:"closeProductModal",value:function(){this.productModal={modal:!1,title:"",product:null,method:""}}},{key:"refreshTable",value:function(){this.closeProductModal(),this.getProducts(),this.selectedProducts=[],this.productDeleteModal=!1}},{key:"updateProduct",value:function(t){var e=this;console.log(this.selectedProducts),this.productModal={modal:!0,title:t,product:this.products.find((function(t){return t.id==e.selectedProducts[0]})),method:"update"},console.log(this.productModal)}},{key:"cloneProduct",value:function(t){var e=this;this.productModal={modal:!0,title:t,product:this.products.find((function(t){return t.id==e.selectedProducts[0]})),method:"clone"}}},{key:"removeProducts",value:function(){this.productDeleteModal=!0}},{key:"filterReset",value:function(){this.filter={show:!0,brand:"",category:"",supplier:""},this.getProducts()}},{key:"filterProducts",value:function(){var t=this;this.$inventory.filterProducts(this.filter).then((function(data){t.products=data})).catch((function(t){return console.error(t)}))}},{key:"getProducts",value:function(){var t=this;this.$inventory.getAllProducts(this.page,this.numOfItems).then((function(data){t.products=data})).catch((function(t){return console.error(t)}))}},{key:"getBrands",value:function(){var t=this;this.$inventory.getAllBrands().then((function(data){t.brands=data.map((function(t){return t.name}))})).catch((function(t){return console.error(t)}))}},{key:"getCategories",value:function(){var t=this;this.$inventory.getAllCategories().then((function(data){t.categories=data.map((function(t){return t.name}))})).catch((function(t){return console.error(t)}))}},{key:"created",value:function(){this.getProducts(),this.getBrands(),this.getCategories()}},{key:"mounted",value:(e=Object(w.a)(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.$refs.productContainer.$el,t.next=3,this.$inventory.getProductsCount();case 3:r=t.sent,null!=e&&(this.numOfItems=Math.floor((e.scrollHeight-8)/64),this.numOfPages=Math.ceil(r/this.numOfItems));case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"onPageChange",value:function(){console.log(this.page),this.getProducts()}}]),n}(M.Vue);z([Object(M.Watch)("page")],T.prototype,"onPageChange",null);var F=T=z([Object(M.Component)({layout:"main",middleware:"authenticated",components:{ProductModal:S.default,ProductDeleteModal:B.default,ProductSearchBar:A.default}})],T),W=r(72),component=Object(W.a)(F,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e(h.a,{staticClass:"pa-0 ma-0 fill-height",attrs:{fluid:""}},[e(k.a,{staticClass:"d-flex",attrs:{width:"100%",height:"100%",color:"transparent"}},[e(k.a,{staticClass:"d-flex flex-grow-1 flex-column justify-start",attrs:{height:"100%",color:"transparent"}},[e("div",{staticClass:"d-flex mb-4 align-center"},[e(k.a,{staticClass:"flex-grow-1 d-flex align-center text-subtitle-2 font-weight-regular",attrs:{height:"48",elevation:"0",rounded:"lg"}},[e(k.a,{staticClass:"d-flex justify-center align-center rounded-l-lg",class:[t.$vuetify.breakpoint.smAndUp?"px-3":"px-2"],attrs:{color:"transparent",height:"100%",elevation:"2"}},[t.$vuetify.breakpoint.smAndUp?e(k.a,{staticClass:"mr-2 text-subtitle-2 grey--text text--darken-1",attrs:{color:"transparent"}},[t._v("Filter")]):t._e(),t._v(" "),e(x.a,{attrs:{"close-on-content-click":!1,"nudge-bottom":20,"nudge-left":60,"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(r){var n=r.on,o=r.attrs;return[e(l.a,t._g(t._b({staticClass:"rounded",attrs:{icon:"",elevation:"0",color:"primary"}},"v-btn",o,!1),n),[e(m.a,[t._v("mdi-tune-vertical")])],1)]}}]),model:{value:t.filter.show,callback:function(e){t.$set(t.filter,"show",e)},expression:"filter.show"}},[t._v(" "),e(o.a,{attrs:{rounded:"lg",width:"250"}},[e(k.a,{staticClass:"pa-2 pb-0 text-subtitle-2 grey--text text--darken-2",attrs:{width:"100%"}},[e("span",{staticClass:"px-1"},[t._v("Filter By")]),t._v(" "),e(v.a,{staticClass:"mt-1"})],1),t._v(" "),e(k.a,{staticClass:"pa-2 pb-0 text-subtitle-2 grey--text text--darken-2",attrs:{width:"100%"}},[e("span",{staticClass:"px-1"},[t._v("Brand")]),t._v(" "),e(f.a,{staticClass:"rounded-lg text-subtitle-2 font-weight-regular mt-1 mx-1",attrs:{items:t.brands,placeholder:"Select a brand",outlined:"","hide-details":"",dense:""},model:{value:t.filter.brand,callback:function(e){t.$set(t.filter,"brand",e)},expression:"filter.brand"}}),t._v(" "),e(v.a,{staticClass:"mt-3"})],1),t._v(" "),e(k.a,{staticClass:"pa-2 pb-0 text-subtitle-2 grey--text text--darken-2",attrs:{width:"100%"}},[e("span",{staticClass:"px-1"},[t._v("Category")]),t._v(" "),e(f.a,{staticClass:"rounded-lg text-subtitle-2 font-weight-regular mt-1 mx-1",attrs:{items:t.categories,placeholder:"Select a category",outlined:"","hide-details":"",dense:""},model:{value:t.filter.category,callback:function(e){t.$set(t.filter,"category",e)},expression:"filter.category"}}),t._v(" "),e(v.a,{staticClass:"mt-3"})],1),t._v(" "),e(k.a,{staticClass:"pa-2 pb-0 text-subtitle-2 grey--text text--darken-2",attrs:{width:"100%"}},[e("span",{staticClass:"px-1"},[t._v("Supplier")]),t._v(" "),e(f.a,{staticClass:"rounded-lg text-subtitle-2 font-weight-regular mt-1 mx-1",attrs:{items:t.supplier,placeholder:"Select a supplier",outlined:"","hide-details":"",dense:""},model:{value:t.filter.supplier,callback:function(e){t.$set(t.filter,"supplier",e)},expression:"filter.supplier"}}),t._v(" "),e(v.a,{staticClass:"mt-3"})],1),t._v(" "),e(k.a,{staticClass:"pa-3 text-subtitle-2 d-flex justify-end",attrs:{width:"100%"}},[e(l.a,{staticClass:"rounded-lg text-capitalize mr-2",attrs:{color:"primary"},on:{click:t.filterProducts}},[t._v("\n                    Apply\n                  ")]),t._v(" "),e(l.a,{staticClass:"rounded-lg text-capitalize",attrs:{depressed:""},on:{click:t.filterReset}},[t._v("\n                    Reset\n                  ")])],1)],1)],1)],1),t._v(" "),e(v.a,{attrs:{vertical:""}}),t._v(" "),e("ProductSearchBar")],1),t._v(" "),e(l.a,{staticClass:"ml-4 rounded-lg text-capitalize text-subtitle-2",attrs:{height:"48",width:t.$vuetify.breakpoint.smAndUp?"":"48",elevation:"2",color:"primary",fab:!t.$vuetify.breakpoint.smAndUp},on:{click:function(e){return t.showProductModal("Add Product")}}},[e(m.a,{class:[t.$vuetify.breakpoint.smAndUp?"mr-2":""]},[t._v("mdi-package-variant-closed-plus")]),t._v(" "),t.$vuetify.breakpoint.smAndUp?e("span",[t._v("Add Product")]):t._e()],1)],1),t._v(" "),e(k.a,{staticClass:"flex-grow-1 d-flex flex-column overflow-hidden",staticStyle:{position:"relative"},attrs:{width:"100%",height:"100%",elevation:"2",rounded:"lg"}},[e(k.a,{staticClass:"px-5 py-3 text-sm-subtitle-2 text-caption font-weight-bold rounded-t-lg d-flex align-center justify-center",attrs:{color:"primary",dark:""}},[e(c.a,{staticClass:"ma-0 mt-n1 mr-2",attrs:{"hide-details":"",value:t.selectedProducts.length>0,indeterminate:t.selectedProducts.length>0,disabled:t.selectedProducts.length<1},on:{change:t.emptySelected}}),t._v(" "),e(_.a,{attrs:{"no-gutters":"",align:"center"}},[t.$vuetify.breakpoint.lgAndUp?e(d.a,{attrs:{cols:"1"}},[t._v("SKU")]):t._e(),t._v(" "),e(d.a,{attrs:{cols:"5"}},[t._v("Description")]),t._v(" "),e(d.a,{staticClass:"text-center",attrs:{cols:"1"}},[t._v("Category")]),t._v(" "),e(d.a,{staticClass:"text-center",attrs:{cols:"2"}},[t._v("Supplier")]),t._v(" "),e(d.a,{staticClass:"text-center",attrs:{cols:"1"}},[t._v("Stock")]),t._v(" "),e(d.a,{staticClass:"text-center",attrs:{cols:"3",lg:"2"}},[t._v("Price")])],1)],1),t._v(" "),e(k.a,{ref:"productContainer",staticClass:"flex-grow-1 overflow-y-auto px-2 pt-2",attrs:{color:"transparent",width:"100%"}},t._l(t.products,(function(r,n){return e(k.a,{key:n,staticClass:"mb-2 px-3 d-flex align-center text-sm-subtitle-2 text-caption font-weight-medium grey--text text--darken-2",attrs:{height:"56",elevation:"1",rounded:"lg"}},[e(c.a,{staticClass:"ma-0 mt-n1 mr-2",attrs:{"hide-details":"",value:t.checkSelected(r.id)},on:{change:function(e){return t.selectProduct(r.id)}}}),t._v(" "),e(_.a,{attrs:{"no-gutters":"",align:"center"}},[t.$vuetify.breakpoint.lgAndUp?e(d.a,{attrs:{cols:"1"}},[t._v(t._s(r.sku))]):t._e(),t._v(" "),e(d.a,{staticClass:"d-flex flex-column justify-center align-start",attrs:{cols:"5"}},[e("div",{staticClass:"d-flex align-center"},[e("span",{staticClass:"mr-1"},[t._v(t._s(r.brand))]),t._v(" "),e("span",[t._v("\n                    "+t._s(r.description)+"\n                  ")]),t._v(" "),e(k.a,{staticClass:"px-2 rounded-lg ml-2 text-caption font-weight-bold green--text text--darken-1 d-flex align-center",attrs:{height:"24",color:"green lighten-5"}},[t._v("\n                    "+t._s(r.variant)+"\n                  ")])],1),t._v(" "),t.$vuetify.breakpoint.mdAndDown?e("span",{staticClass:"grey--text mt-n1 text-caption font-weight-medium"},[t._v(t._s(r.sku))]):t._e()]),t._v(" "),e(d.a,{staticClass:"text-center",attrs:{cols:"1"}},[t._v(t._s(r.category))]),t._v(" "),e(d.a,{staticClass:"text-center",attrs:{cols:"2"}},[t._v(t._s(r.supplier))]),t._v(" "),e(d.a,{staticClass:"text-center",attrs:{cols:"1"}},[e("span",[t._v(t._s(t.$format.numberFormat(r.stock,1)))])]),t._v(" "),e(d.a,{staticClass:"d-flex align-center justify-center",attrs:{cols:"3",lg:"2"}},[e(k.a,{staticClass:"d-flex flex-column px-2 py-1 blue--text text--darken-1 rounded-lg mx-1",attrs:{color:"blue lighten-5",height:"auto",width:"80"}},[e("span",{staticStyle:{"font-size":"x-small","line-height":"1"}},[t._v("Wholesale")]),t._v(" "),e("span",{staticClass:"text-caption mt-1 font-weight-medium text-center",staticStyle:{"line-height":"1"}},[t._v(t._s(t.$format.currencyFormat(r.price.wholesale)))])]),t._v(" "),e(k.a,{staticClass:"d-flex flex-column px-2 py-1 red--text text--darken-1 rounded-lg mx-1",attrs:{color:"red lighten-5",height:"auto",width:"80"}},[e("span",{staticStyle:{"font-size":"x-small","line-height":"1"}},[t._v("Retail")]),t._v(" "),e("span",{staticClass:"text-caption mt-1 font-weight-medium text-center",staticStyle:{"line-height":"1"}},[t._v(t._s(t.$format.currencyFormat(r.price.retail)))])])],1)],1)],1)})),1),t._v(" "),e(C.a,{directives:[{name:"show",rawName:"v-show",value:t.selectedProducts.length>0&&!t.$vuetify.breakpoint.mdAndUp,expression:"selectedProducts.length > 0 && !$vuetify.breakpoint.mdAndUp"}],staticClass:"mr-n2 mb-n2",attrs:{absolute:"",right:"",bottom:"",direction:"top",transition:"slide-y-reverse"},scopedSlots:t._u([{key:"activator",fn:function(){return[e(n.a,{attrs:{content:t.selectedProducts.length,value:t.selectedProducts.length,color:"grey",overlap:""}},[e(l.a,{attrs:{color:"primary",dark:"",fab:"",height:"40",width:"40"},model:{value:t.optionBtn,callback:function(e){t.optionBtn=e},expression:"optionBtn"}},[t.optionBtn?e(m.a,{on:{click:t.emptySelected}},[t._v("\n                  mdi-close\n                ")]):e(m.a,[t._v(" mdi-menu-up ")])],1)],1)]},proxy:!0}]),model:{value:t.optionBtn,callback:function(e){t.optionBtn=e},expression:"optionBtn"}},[t._v(" "),e(l.a,{attrs:{disabled:t.selectedProducts.length>1,fab:"",small:"",dark:1==t.selectedProducts.length,color:"blue lighten-1"}},[e(m.a,{attrs:{size:"22"}},[t._v("mdi-content-copy")])],1),t._v(" "),e(l.a,{attrs:{disabled:t.selectedProducts.length>1,fab:"",small:"",dark:1==t.selectedProducts.length,color:"green lighten-1"}},[e(m.a,{attrs:{size:"22"}},[t._v("mdi-pencil-outline")])],1),t._v(" "),e(l.a,{attrs:{fab:"",small:"",color:"red lighten-1",dark:t.selectedProducts.length>0}},[e(m.a,{attrs:{size:"22"}},[t._v("mdi-trash-can-outline")])],1)],1)],1),t._v(" "),e(k.a,{staticClass:"mt-4 d-flex align-center justify-end",attrs:{width:"100%",color:"transparent"}},[t.selectedProducts.length>0&&t.$vuetify.breakpoint.mdAndUp?e(k.a,{staticClass:"flex-grow-1 d-flex px-3 align-center justify-space-between",attrs:{rounded:"lg",height:"56",elevation:"2"}},[e("div",{staticClass:"ml-n2 d-flex align-center"},[e(l.a,{staticClass:"mr-1",attrs:{plain:"",fab:"",height:"36",width:"36"},on:{click:t.emptySelected}},[e(m.a,[t._v("mdi-close")])],1),t._v(" "),e(k.a,{staticClass:"py-2 px-4 d-flex justify-center align-center rounded-pill text-subtitle-2 font-weight-bold",attrs:{height:"24",dark:"",color:"grey"}},[t._v("\n              "+t._s(t.selectedProducts.length)+"\n            ")]),t._v(" "),e("span",{staticClass:"text-subtitle-2 ml-2"},[t._v(t._s(t.selectedProducts.length>1?"items":"item")+"\n              selected")])],1),t._v(" "),e("div",[e(l.a,{staticClass:"rounded-lg text-capitalize white--text text-subtitle-2",attrs:{color:"blue lighten-1",disabled:t.selectedProducts.length>1},on:{click:function(e){return t.cloneProduct("Clone a Product")}}},[e(m.a,{staticClass:"ml-n2 mr-2"},[t._v("mdi-content-copy")]),t._v(" Clone\n            ")],1),t._v(" "),e(l.a,{staticClass:"rounded-lg text-capitalize ml-2 white--text text-subtitle-2",attrs:{color:"green lighten-1",disabled:t.selectedProducts.length>1},on:{click:function(e){return t.updateProduct("Update a Product")}}},[e(m.a,{staticClass:"ml-n2 mr-2"},[t._v("mdi-pencil-outline")]),t._v(" Edit\n            ")],1),t._v(" "),e(l.a,{staticClass:"rounded-lg text-capitalize ml-2 text-subtitle-2",attrs:{dark:"",color:"red lighten-1"},on:{click:function(e){t.productDeleteModal=!0}}},[e(m.a,{staticClass:"ml-n2 mr-2"},[t._v("mdi-trash-can-outline")]),t._v(" Delete\n            ")],1)],1)]):t._e(),t._v(" "),e(k.a,{staticClass:"d-flex justify-center align-center px-1",class:[t.$vuetify.breakpoint.smAndUp?"ml-4":"ma-0"],attrs:{rounded:"lg",elevation:"2",height:"56",width:t.$vuetify.breakpoint.smAndUp?"auto":"100%"}},[e(y.a,{attrs:{length:t.numOfPages,"total-visible":5},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)],1)],1),t._v(" "),t.$vuetify.breakpoint.lgAndUp?e(k.a,{staticClass:"rounded-lg ml-4",attrs:{width:"450",Cracker:"",elevation:"1"}}):t._e()],1),t._v(" "),t.productModal.modal?e("ProductModal",{attrs:{productModal:t.productModal.modal,cardtitle:t.productModal.title,method:t.productModal.method,product:t.productModal.product},on:{closeModal:t.closeProductModal,refreshTable:t.refreshTable}}):t._e(),t._v(" "),e("ProductDeleteModal",{attrs:{deleteModal:t.productDeleteModal,products:t.selectedProducts},on:{closeModal:function(e){t.productDeleteModal=!1},confirmDelete:t.refreshTable}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ProductModal:r(631).default,ProductDeleteModal:r(632).default})}}]);